# 迭代器 iterator

    迭代是是访问集合元素的一种方式；
    迭代器可以记住遍历的位置的对象；
    迭代器对象可以从集合的第一个元素开始访问，逐一获取迭代器记住位置对象的值，直到所有的元素被访问完结束；
    迭代器只能往前不会后退；
    迭代器有两个基本的方法：iter() 和 next()；
    可以被next()函数调用并不断返回下一个值得对象就是迭代器；
    迭代器在正确范围内返回期待的值或超出范围后能够抛出StopIteration的错误停止迭代；
    生成器是迭代器的一种。

**实例1：**
```py
list1=[1,2,3,4]
it = iter(list1)	
print (next(it))
print (next(it))
```
**逻辑解说**
- 创建一个列表list1
- 列表转化为迭代器
- 获取迭代器的下一个元素，并且打印
- 获取迭代器的下一个元素，并且打印

**实例2：**
```py
import sys
list1= [1,2,3,4]
it = iter(list1)
while True:
    try:
        print (next(it))
    except StopIteration:
        sys.exit()
```
**逻辑解说**
- 引入sys模块
- 创建列表对象
- 转化为迭代器对象
- while循环，True代表循环一直成立
- try-except错误捕获。不懂的照抄代码，后续【补充错误】捕获章节有讲到。
- 获取迭代器的下一个元素，并且打印
- 捕获StopIteration错误。不懂的照抄代码，后续【补充错误】捕获章节有讲到。
- exit退出当前，结合上文StopIteration（迭代器停止。就是元素已经完全取出，在继续获取元素，则报错！）退出程序。

**案例3：**
```py
def test():
    for i in (1,2,3,4):
        yield i

print(test()) # <generator object test at 0x000001D5000BEC10>
print(next(test())) # 1
```
**逻辑解说**
- 创建test函数，def是定义函数的意思。不懂的照抄代码，后续【函数】捕获章节有讲到。
- for循环
- 返回迭代器+i元素。相当于return累加到迭代器（这里我们可以说是生成器）
- 打印得到generator生成器在0x000001D5000BEC10内存里 <- 每次运行都不一样的。

**生成器generator**

当我们列表数据预期是非常大的时候怎么办呢？我们可以一边生成数据，一遍获取数据。就像我们吃饭，一个碗装不下，我们可以，一个吃完再装一碗。在python中，我们把一边循环一边计算的机制，成作生成器（generator），生成器是迭代器的一种。